apply from: '../dotGradle/header.gradle'

group = "dotpoint"
version = "1.0.0"

repositories {
	mavenLocal()
}

dependencies {
	source elastic("dotpoint:dot2D:1.0.+","dot2D")
	
}

apply from: '../dotGradle/methods.gradle'

// /////////////////////////////////////////////// //
// /////////////////////////////////////////////// //

tasks.compileDocumentation {
	inputs.files { 
		project.fileTree( dir:'build', includes: ['src/main/**/*', 'res/main/**/*', 'lib/**/*'] ) 
	}
	
	outputs.files( "build/doc/flash.xml" )
}

tasks.compileDocumentation.doFirst {	
	workingDir 'build'
	commandLine "haxe",	
		"-cp", "src/main",
		"-cp", "lib/hxsl",
		"-lib", "format",
		"-D", "doc-gen",
		"-D", "doc",
		"-D", "dotpoint",
		"--macro", "allowPackage('sys')",
		"--macro", "include('flash.at.dotpoint')",
		"--macro", "include('haxe.at.dotpoint')",
		"--macro", "include('haxe.org.ds.VectorSort')",
		"--no-output",
		"--each",
		"--next",
		"-xml", "doc/flash.xml",
		"-swf", "doc/flash.swf",
		"-swf-version", "11"
}